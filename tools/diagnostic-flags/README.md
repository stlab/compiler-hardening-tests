# Clang Diagnostic Flags Explorer

An interactive tool to explore relationships between Clang diagnostic (warning) flags.

**Live version:** https://stlab.github.io/compiler-hardening-tests/

## Features

- **Search**: Filter flags by name
- **Complete implications**: See all flags implied by a given flag (transitive closure)
- **Reverse lookup**: See which flags imply a given flag
- **Direct links**: Share links to specific flags (e.g., `#-Wall`)
- **Documentation links**: Quick access to official Clang documentation
- **Flag metadata**: See if a flag is enabled by default or treated as an error
- **Comments**: Report issues or discuss flags via GitHub Discussions

## GitHub Pages Deployment

The tool is automatically deployed to GitHub Pages when:
- Changes are pushed to `main` in `tools/diagnostic-flags/`
- Manually triggered via workflow dispatch
- Weekly (Sundays at midnight UTC) to pick up new Clang diagnostics

### Setup Requirements

1. **Enable GitHub Pages** in repository settings:
   - Go to Settings → Pages
   - Set Source to "GitHub Actions"

2. **Enable GitHub Discussions** for giscus comments:
   - Go to Settings → Features → Enable Discussions
   - Create a "General" category for comments

3. **Configure giscus**:
   - Go to https://giscus.app/
   - Enter your repository: `stlab/compiler-hardening-tests`
   - Copy the `data-repo-id` and `data-category-id` values
   - Update `index.html` with these values

## Local Development

### Generate the data

```bash
python3 parse_diagnostics.py --include-transitive
```

Options:
- `--url URL`: Custom URL for the diagnostics reference
- `--output FILE`: Output JSON file path (default: diagnostics.json)
- `--include-transitive`: Pre-compute transitive implications (recommended)

### Start the web interface

```bash
python3 -m http.server 8080
```

Then open http://localhost:8080 in your browser.

## Files

- `parse_diagnostics.py` - Python script to fetch and parse the Clang documentation
- `index.html` - Interactive web interface
- `diagnostics.json` - Generated data file (auto-generated by GitHub Actions)

## Data Source

Data is parsed from the [Clang Diagnostics Reference](https://clang.llvm.org/docs/DiagnosticsReference.html).
